<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.2.min.js"></script>

</head>

<body>

    <table id='example' class="table table-striped" style="width:75%">
        <thead>
            <th>Valor</th>
            <th>Nr. Documento</th>
            <th>Acao</th>
        </thead>
        <tbody>
            <tr>

                <td><input type='text' class='form-control vlr_unitario' placeholder='0,00' name='vlr_unitario'
                        maxlength='10' />
                    &nbsp</td>
                <td><input type='text' class='form-control nr_Cheque' name='nr_Cheque' placeholder='Nr. do Doc'
                        maxlength='20' />
                    &nbsp</td>

                <td>
                    <button type="button" class="btn btn-success" onclick="adicionaLinha('example')">+</button>
                    <!--  <button type="button" class="btn btn-success" onclick="removeLinha(this)">-</button>-->
                </td>
            </tr>

        </tbody>
    </table>

    <a href="#" class="editar" data-id="1" data-titulo="Harry Potter e a Pedra Filosofal" data-autor="JK"
        data-categoria="livro">Editar</a> &nbsp <button type="button" class="btn btn-success" onclick="geraObjeto()">Gera
        Objeto</button> &nbsp <button type="button" class="btn btn-success" onclick="montaObjeto()">Monta
            Objeto</button>




    <script language='javascript'>
        $(".editar").click(function () {
            debugger;
            var id = $(this).data('id');
            var titulo = $(this).data('titulo');
            var autor = $(this).data('autor');
            var categoria = $(this).data('categoria');
            //preenche os campos e chama o modal
        })

        function geraObjeto() {
            debugger;

            var i, linhasDaTabela = new Array();
            for (i = 0; i < $('.nr_Cheque').length; i++) {
                linhasDaTabela[i] = new Object(); // ESQUECI ESSA LINHA HEHEHE
                // linhasDaTabela[i].codigo = $('.ipi')[i].value;
                linhasDaTabela[i].vlr_unitario = $('.vlr_unitario')[i].value;
                linhasDaTabela[i].nr_Cheque = $('.nr_Cheque')[i].value;
                // linhasDaTabela[i].precouni = $('.ne_pr_precouni')[i].value;
                // linhasDaTabela[i].precoTotal = $('.ne_pr_precototal')[i].value;
            }
            // ai, se vc quiser saber o codigo da linha 10 por exemplo, é só fazer assim:  
            alert(linhasDaTabela[$('.nr_Cheque').length - 1].nr_Cheque);
            console.log('dados');
            console.log(linhasDaTabela.value);
        }

        function montaObjeto() {

debugger;
            var arr_resp = []; // Mesma coisa que new Array();
            // Pegar todas as linhas da tabela #tabela que contém um input ou um select (para evitar linhas desnecessárias, como o cabeçalho)
            // Passo 1.
            $('table#example tr:has(input, select)').each(function () {
                var self = $(this);
                // Passo 2 e 3.
                arr_resp.push({

                    'vlr_unitario': self.find('.vlr_unitario').val(),
                    'nr_Cheque': self.find('.nr_Cheque').val()
                });
            });
            alert(JSON.stringify(arr_resp));
            console.log(JSON.stringify(arr_resp));
        }

        var table = document.getElementById("example");

        function deletaRow() {
            //$('#example tbody').on('click', 'img.icon-delete', function () {
            // $('#example tbody').on('click', 'button', function () {
            //     table
            //         .row($(this).parents('tr'))
            //         .remove()
            //         ;
            // });
        }

        function removeLinha(linha) {
            var i = linha.parentNode.parentNode.rowIndex;
            document.getElementById('example').deleteRow(i);
        }



        function adicionaLinha(idTabela) {
            debugger;
           

            var tabela = document.getElementById(idTabela);
            var numeroLinhas = tabela.rows.length;
            var linha = tabela.insertRow(numeroLinhas);
            var celula1 = linha.insertCell(0);
            var celula2 = linha.insertCell(1);
            var celula3 = linha.insertCell(2);
            celula1.innerHTML =
                "<input type='text' class='form-control vlr_unitario' placeholder='0,00' name='vlr_unitario' maxlength='10' />  &nbsp ";
            celula2.innerHTML =
                "<input type='text' class='form-control nr_Cheque' name='nr_Cheque' placeholder='Nr. do Doc' maxlength='20' />  &nbsp;";
            // celula3.innerHTML = "<button type='button' class='btn btn-success add' onclick='adicionaLinha('example')'>+&nbsp</button> <button type='button' class='btn btn-success del' onclick='removeLinha(this)'>-</button>";
            celula3.innerHTML =
                "<button type='button' class='btn btn-success del' onclick='removeLinha(this)'>-</button>";
            // celula3.innerHTML ="<input type='text' class='form-control' name='nrCheque' placeholder='Nr. do Doc' maxlength='20' />  &nbsp;"
        }


        function addRows(r) {
            // var table1 = $('#example1').DataTable();
            // var table2 = $('#example2').DataTable();
            // alert('oi');
            // $('#example tbody').on('click', 'img.icon-transfer', function () {
            //     var row = table.row($(this).parents('tr'));
            //     var rowNode = row.node();
            //     row.remove();
            debugger;
            var i = r.parentNode.parentNode.rowIndex;
            document.getElementById("example").insertRow(i);

        }
    </script>

</body>

</html>